"use strict";define(["angular","app","config.lazyload","config.router"],function(t,a){a.controller("BaseNewListController",["$scope","$rootScope","$location","$log","$filter","ngTableParams",function(a,l,e,s,i,o){a.listData=[],a.listService=null,a.createTableParams=function(e){var s={page:1,count:a.app.settings.defaultPageSize,sorting:{id:"desc"}};null!=l.listParams&&(s=l.listParams,e.sorting=l.listParams.sorting);var n=t.extend({},s,e);return new o(n,{debugMode:!1,total:a.listData.length,counts:a.pages,getData:function(e,s){l.listParams=t.copy(s.$params);var o=s.filter()?i("filter")(a.listData,s.filter()):a.listData,n=s.sorting()?i("orderBy")(o,s.orderBy()):o;s.total(n.length),e.resolve(n.slice((s.page()-1)*s.count(),s.page()*s.count()))}})}}]),a.controller("BaseListController",["$scope","$location","$controller","$log","$filter",function(t,a,l,e){l("BaseNewListController",{$scope:t}),t.listService=null,t.listTableOptions=null,t.$watch("listTableOptions",function(a){return null==a?void e.error("listTableOptions is empty."):(t.listTableParams=t.createTableParams(a,t.listData),t.listService.promise.then(function(){t.reloadList(t.listService.getAllDatas())}),void t.$on("reloadData",function(){t.reloadList(t.listService.getAllDatas())}))}),t.lastData=null,t.selectData=function(a){t.lastData&&(t.lastData.selected=!1),a.selected=!0,t.lastData=null,t.lastData=a},t.reloadList=function(a){null!=a&&(t.listData=a,t.listTableParams.reload(),t.listTableParams.total(t.listData.length))},t.$on("unauthenticated",function(){a.path("/access/401")})}])});
